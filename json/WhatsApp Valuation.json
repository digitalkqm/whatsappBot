{
  "name": "WhatsApp Valuation",
  "nodes": [
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1598498077@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "ab67918d-444b-411f-a9bf-51cf7be99865",
      "name": "Send to Premas Group",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        1280
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Ethan').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "e40c84bb-4b62-4099-9810-c89495462ac8",
      "name": "Acknowledge to Requester",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        1488
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Yvonne",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        1280
      ],
      "id": "cd6b21b6-a535-47cc-98e3-063871aa0d01",
      "name": "Banker - Yvonne"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Ethan",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        1488
      ],
      "id": "1e92f9b6-70d1-4355-b5b8-062024f56f92",
      "name": "Banker - Ethan"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Hui Hui",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        1680
      ],
      "id": "c3032051-74ba-4a60-a457-cc30ce29d11e",
      "name": "Banker - Hui Hui"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Property Address": "={{ $json.message_text }}",
            "Valuation 1 -Yvonne": "Pending",
            "Chat ID -Yvonne": "={{ $json.chat_id }}",
            "Message ID -Yvonne": "={{ $json.message_id }}",
            "Time Stamp": "={{ $json.timestamp }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 1').item.json.salesperson }}",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        1280
      ],
      "id": "f488bc18-f37a-4a4f-98fb-8740fb9191c6",
      "name": "Add Valuation",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=6596440186-1598498077@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to Premas Group').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Yvonne').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "c3a5b108-d0e6-470a-944f-e1032eb89639",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 1').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        1280
      ],
      "id": "32830a9f-2a49-4bfc-8411-f13ee6bcf41c",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Property Address": "={{ $json.message_text }}",
            "Valuation 2 -Ethan": "Pending",
            "Chat ID -Ethan": "={{ $json.chat_id }}",
            "Message ID -Ethan": "={{ $json.message_id }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Time Stamp": "={{ $json.timestamp }}",
            "Salesperson Requested": "={{ $('Remove Last Line 2').item.json.salesperson }}",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        1488
      ],
      "id": "7e87eb2c-e6c4-4348-bcde-56eacd17c05d",
      "name": "Add Valuation1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=120363417257370583@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to DBS Group').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Ethan').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "a9910df1-9b9d-43e6-8a73-74211595b4f5",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 2').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        1488
      ],
      "id": "fb7cd5bb-f726-434c-9987-9f4b81d1cbe5",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Valuation 3 -Hui Hui": "Pending",
            "Chat ID -Hui Hui": "={{ $json.chat_id }}",
            "Message ID -Hui Hui": "={{ $json.message_id }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 3').item.json.salesperson }}",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        1680
      ],
      "id": "2241ec6a-cfed-4c8e-a484-5d98c035aaa5",
      "name": "Add Valuation2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=120363156244588807@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to MBB Hui Hui').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Hui Hui').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "8f599163-6ff6-43a9-a918-0518244b1233",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 3').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        1680
      ],
      "id": "f3cfb31d-b146-4fc2-af9e-903f44fde3c2",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "premas",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        1280
      ],
      "id": "937f8b40-4a4a-4b1e-a51e-5307e0911f8b",
      "name": "Check Premas"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "dbs",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "514ca8fe-eacb-4f7b-b493-668961399478",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "ethan",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        1488
      ],
      "id": "83489786-b406-4338-825d-fc55f74e3208",
      "name": "Check DBS"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=6596440186-1598498077@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "bc3eb571-1a4c-4279-8e97-ddc6d594166e"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Yvonne"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "6d16695d-fe2d-412a-bd2a-a43f1e89fbce",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=6597952338-1495617273@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Ethan"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "9b090335-9e58-482e-8b20-08f2bc37e5be",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=120363156244588807@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Hui Hui"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "bf71e569-0857-47cb-99cf-b5037521eca1",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=120363216496983099@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Vikram"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "24e67e0d-1b3c-43c4-8fc5-bae70e9d71b0",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=6596440186-1533216750@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Ying Feng"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "2e76ed65-7ae0-4a25-b748-ce0885395a0b",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=120363399758119890@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Eunice Boon"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "36662843-35f7-4f3d-9b92-105ac42b95ff",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=120363410164822147@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Jewel"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "ac23fcb4-4394-43a5-8762-5c2d2a9129cb",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=6596440186-1587618823@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Bret"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "4c7fac8f-186d-459d-b368-52e66070d0d5",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=120363416304945643@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Xin Jie"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "4b39b968-11ab-4a34-9fb4-888717cb83e5",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=120363215516608216@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "James"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "cb3985b3-5ac2-4c1d-a188-95ecbf33605b",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=6596440186-1532139636@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "April"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "285769f9-f88b-47b9-8d66-21fe1de4f9f3",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "=6596440186-1614324984@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Eunice Ong"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "cb23ef1b-8f07-4102-9e7d-ed4ced0d103f",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "120363026214257477@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Bot Testing"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "f42b85a3-0fb8-4ee3-8741-3c32511c1240",
                    "leftValue": "={{ $json[\"body\"][\"groupId\"] }}",
                    "rightValue": "6596440186-1615346060@g.us",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Edvin"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -768,
        -1088
      ],
      "id": "8fbd82f7-b4ea-40cb-a8c7-a2ffc8ae7f49",
      "name": "Switch"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "8d4a157a-9b1c-47fb-ab0b-5123d4d7037d",
              "leftValue": "={{ $json.body.replyInfo.message_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            },
            {
              "id": "8fb82f19-ec14-422d-b5e2-3f76b40df27e",
              "leftValue": "={{ $json.body.replyInfo.text }}",
              "rightValue": "valuation request",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1200,
        320
      ],
      "id": "6468d017-755b-4b8c-b9b7-0c737195acc5",
      "name": "If"
    },
    {
      "parameters": {
        "jsCode": "const text = $json.body?.text || \"\";\n\nreturn [\n  {\n    json: {\n      messageText: text.toLowerCase(),     // normalized lowercase\n      originalMessage: text                // original text as-is\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -736,
        1552
      ],
      "id": "b3662917-0887-4577-b4a0-2a55eabeed46",
      "name": "Change to Lowercase"
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        1280
      ],
      "id": "62380b02-3a88-4ae2-8a7e-fd41e50df113",
      "name": "Remove Last Line 1"
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        1488
      ],
      "id": "ce97c4f0-f33e-458d-baad-eb3e6f90d62c",
      "name": "Remove Last Line 2"
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        1680
      ],
      "id": "1bc612cb-c856-48d5-a5c9-74d3810c4744",
      "name": "Remove Last Line 3"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6597952338-1495617273@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "7b843cab-4c97-4ec3-817c-63cab9131458",
      "name": "Send to DBS Group",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        1488
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "mbb",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "hui",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        1680
      ],
      "id": "65506b0d-06fc-4d9d-8117-b37e5716bcc3",
      "name": "Check MBB Hui Hui"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "mbb",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "vikram",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        1904
      ],
      "id": "b7b6df65-a1a8-4b63-b266-28e6e2d1e343",
      "name": "Check MBB Vikram"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Chat ID - Vikram": "={{ $json.chat_id }}",
            "Message ID - Vikram": "={{ $json.message_id }}",
            "Valuation 4 - Vikram": "Pending",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 4').item.json.salesperson }}",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        1904
      ],
      "id": "94d4d248-5002-4ad4-af51-7f49dc3c0d88",
      "name": "Add Valuation3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=120363216496983099@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to MBB Vikram').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Vikram').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "21a99f14-2d2f-4e09-82d2-f06eee1cda06",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 4').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        1904
      ],
      "id": "d22d170e-ed0a-4633-b260-3c21fb68dac3",
      "name": "Edit Fields3"
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        1904
      ],
      "id": "1d209128-4332-4fed-990f-502ff13f6c8b",
      "name": "Remove Last Line 4"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Vikram",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        1904
      ],
      "id": "3d015782-8140-4ae7-85e4-7ea9eb46d0e4",
      "name": "Banker - Vikram"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Chat ID - Eunice": "={{ $json.chat_id }}",
            "Message ID - Eunice": "={{ $json.message_id }}",
            "Valuation 8 - Eunice": "Pending",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 5').item.json.salesperson }}",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        2128
      ],
      "id": "e15300f8-98e6-4e5a-864a-744994c2fc67",
      "name": "Add Valuation4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=120363399758119890@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to OCBC Eunice').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Eunice').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "f32b529f-2811-4ec3-b61a-66d2f2ddfd31",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 5').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        2128
      ],
      "id": "7c18a27f-c918-4220-baee-cf6145c5579b",
      "name": "Edit Fields5"
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        2128
      ],
      "id": "6d9b0935-e257-4f9d-b67f-d27320601009",
      "name": "Remove Last Line 5"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Eunice",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        2128
      ],
      "id": "b7fe0451-eed5-4840-9323-e1b1faa0ac5f",
      "name": "Banker - Eunice"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363399758119890@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "ef92b79b-e9ef-4980-ab4f-a4009b533e1c",
      "name": "Send to OCBC Eunice",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        2128
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363216496983099@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "123aad1a-2e43-4b87-b0d6-b756cecaf30a",
      "name": "Send to MBB Vikram",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        1904
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363156244588807@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "89af435f-a777-44de-a619-35bb44f8423e",
      "name": "Send to MBB Hui Hui",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        1680
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID -Ethan": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 2 -Ethan": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID -Ethan"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -1600
      ],
      "id": "c5eea112-97b6-4f22-a559-c379af47051a",
      "name": "Add Valuation6",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "valuation",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -1504,
        320
      ],
      "id": "23c0263e-5148-44e6-b893-bb3fbdddec18",
      "name": "Webhook",
      "webhookId": "789280c9-ef0c-4c3a-b584-5b3036e5d799"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields4\"].json.value }} by dbs ethan\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "412ca1f9-cd4a-4277-9141-1005780b56b3",
      "name": "Acknowledge to Requester1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -1600
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -1600
      ],
      "id": "88d6e691-b336-4141-8d4e-303fcca6b40d",
      "name": "Code"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -1616
      ],
      "id": "36048e77-982b-449a-8305-6922ec368f94",
      "name": "Edit Fields4"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Yvonne').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "89ff4065-8dd2-497b-bc2f-a16123d086a1",
      "name": "Acknowledge to Requester2",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        1280
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Hui Hui').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "93163e14-ef48-482c-b3dd-2707eaf98a98",
      "name": "Acknowledge to Requester3",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        1680
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Vikram').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "f45dd842-d6d3-4eb9-8c19-ce68fbd81350",
      "name": "Acknowledge to Requester4",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        1904
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Eunice').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "7538b346-ed93-4486-ab64-6d04b358e843",
      "name": "Acknowledge to Requester5",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        2128
      ]
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 6').item.json.salesperson }}",
            "Chat ID -Ying Feng": "={{ $json.chat_id }}",
            "Message ID -Ying Feng": "={{ $json.message_id }}",
            "Valuation 5 - Ying Feng": "Pending",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        2320
      ],
      "id": "3be94c08-82cc-4864-9230-f4d0df23c56a",
      "name": "Add Valuation5",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=6596440186-1533216750@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to SCB Ying Feng').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Ying Feng').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "06274980-e623-4ed9-b12d-baff4d1c7241",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 6').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        2320
      ],
      "id": "8d5158ff-9072-4b35-aca9-1ef382e5614a",
      "name": "Edit Fields6"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Ying Feng').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "6b55aea0-c217-482a-8b04-b479085a6c71",
      "name": "Acknowledge to Requester6",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        2320
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "scb",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "ying",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        2320
      ],
      "id": "c32e3cbf-f96c-46f1-9f59-d25a2e4cf560",
      "name": "Check SCB Ying Feng"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Ying Feng",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        2320
      ],
      "id": "1de821e1-bb05-4ae0-b58b-e7dc5eb4f57c",
      "name": "Banker - Ying Feng"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1533216750@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "29a0d09b-ac0c-41d8-9d6a-eeef2270e4cb",
      "name": "Send to SCB Ying Feng",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        2320
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        2320
      ],
      "id": "7b478bf0-1ca6-42f7-bb86-b5cfdea1d87b",
      "name": "Remove Last Line 6"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 7').item.json.salesperson }}",
            "Chat ID - Bret": "={{ $json.chat_id }}",
            "Message ID - Bret": "={{ $json.message_id }}",
            "Valuation 6 - Bret": "Pending",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        2528
      ],
      "id": "5bdd8a68-0db9-461a-ab2d-fb53fb45bfb0",
      "name": "Add Valuation7",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=6596440186-1587618823@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to UOB Bret').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Bret').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "9b3e3c5f-7681-48b6-8375-562f929ced9f",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 7').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        2528
      ],
      "id": "f4c6a9e0-ca49-4009-aedd-54a4e1d7b481",
      "name": "Edit Fields7"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Bret').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "eb48c3a5-ee63-40ec-af4f-5f43ed4c96ac",
      "name": "Acknowledge to Requester7",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        2528
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "uob",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "bret",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        2528
      ],
      "id": "f7653bc1-b6a8-4495-9ab3-ec1386a100c9",
      "name": "Check UOB Bret"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Bret",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        2528
      ],
      "id": "2093be63-3d71-47c8-8a50-102247d45ba0",
      "name": "Banker - Bret"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1587618823@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "810a4c41-cf6f-4135-8638-6659c41d8518",
      "name": "Send to UOB Bret",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        2528
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        2528
      ],
      "id": "48884e5f-53f2-40bf-9c18-26a6f07405fc",
      "name": "Remove Last Line 7"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 8').item.json.salesperson }}",
            "Chat ID - Xin Jie": "={{ $json.chat_id }}",
            "Message ID - Xin Jie": "={{ $json.message_id }}",
            "Valuation 7 - Xin Jie": "Pending",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        2704
      ],
      "id": "c3d61a2f-7dff-41bd-8ebd-316672bd346f",
      "name": "Add Valuation8",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=120363416304945643@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to UOB Xin Jie').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Xin Jie').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "0ab06b3d-bc8f-46a5-a2b2-e7135b015624",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 8').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        2704
      ],
      "id": "47bb86aa-ebfe-45a5-8fe1-f0f1e310354c",
      "name": "Edit Fields8"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Xin Jie').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "395d0945-e3ac-4bb5-9433-14a2781a02b2",
      "name": "Acknowledge to Requester8",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        2704
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "uob",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "xin",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        2704
      ],
      "id": "deb4c172-6f17-45c9-b1fd-4ea3b46fd834",
      "name": "Check UOB Xin Jie"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Xin Jie",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        2720
      ],
      "id": "a4ac49aa-3b80-4629-8cab-10889fbdad58",
      "name": "Banker - Xin Jie"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363416304945643@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "3673318f-11b0-4305-8632-29733ff8afb7",
      "name": "Send to UOB Xin Jie",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        2704
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        2720
      ],
      "id": "9ddd78a4-d96b-4b1c-8414-38c0faf6dc7c",
      "name": "Remove Last Line 8"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 9').item.json.salesperson }}",
            "Chat ID - Jewel": "={{ $json.chat_id }}",
            "Message ID - Jewel": "={{ $json.message_id }}",
            "Valuation 9 - Jewel": "Pending",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        2880
      ],
      "id": "68e49417-b1d0-40e2-a7bb-bd03939da902",
      "name": "Add Valuation9",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=120363410164822147@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to OCBC Jewel').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Jewel').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "3d2ed5fa-ca99-4bf7-b50a-f42c6d5a539a",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 9').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        2880
      ],
      "id": "deac689d-689a-4782-a6ad-29c8437d5d2a",
      "name": "Edit Fields9"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to Sean & Jewel.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "56927cd4-ac91-4aa8-ac9a-4105be69431a",
      "name": "Acknowledge to Requester9",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        2880
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "ocbc",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "=jewel",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        2880
      ],
      "id": "6b8e1f06-8757-48a6-8231-324382a36adb",
      "name": "Check OCBC Jewel"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Jewel",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        2880
      ],
      "id": "f6ee6f21-3e33-4330-86d2-48e39c997513",
      "name": "Banker - Jewel"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363410164822147@g.us"
            },
            {
              "name": "message",
              "value": "=Hi Sean & Jewel pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "a0974266-fa1e-42d1-a2c4-03d6614a2c2a",
      "name": "Send to OCBC Jewel",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        2880
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        2880
      ],
      "id": "85a5fc71-7e13-4971-86ab-12ffd1ae0bf7",
      "name": "Remove Last Line 9"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID -Yvonne": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 1 -Yvonne": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID -Yvonne"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -1760
      ],
      "id": "2233ba78-7c07-462a-b42e-29d9c3bfcc6f",
      "name": "Add Valuation10",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code1\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields10\"].json.value }} by premas yvonne\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "3121d2cf-9330-4771-a7dc-0790876a9f24",
      "name": "Acknowledge to Requester10",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -1760
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -1760
      ],
      "id": "fd31ee03-bdcd-401c-b4b4-8383439e97d0",
      "name": "Code1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -1776
      ],
      "id": "6533e803-455e-4229-898e-1173b50e0bea",
      "name": "Edit Fields10"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID -Hui Hui": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 3 -Hui Hui": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID -Hui Hui"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -1440
      ],
      "id": "13faeb35-5484-40da-9922-53eda41a936f",
      "name": "Add Valuation11",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code2\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields11\"].json.value }} by mbb hui hui\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "d3e13a92-61c0-4986-91c8-b8fcc8e0d43c",
      "name": "Acknowledge to Requester11",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -1440
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -1440
      ],
      "id": "452e9f78-9dae-4a56-a004-3ac923725903",
      "name": "Code2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -1456
      ],
      "id": "b74e5eb2-fa2a-4db4-9e21-620a8f312d2c",
      "name": "Edit Fields11"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID - Vikram": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 4 - Vikram": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID - Vikram"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -1264
      ],
      "id": "a5637052-ca5d-42ec-9b1e-942e2d22f99c",
      "name": "Add Valuation12",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code3\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields12\"].json.value }} by mbb vikram\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "c456852d-46e1-4dbe-836f-3f3dfbcc8f28",
      "name": "Acknowledge to Requester12",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -1264
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -1264
      ],
      "id": "961f9c28-c3ad-45ad-a184-56ed23371b58",
      "name": "Code3"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -1280
      ],
      "id": "71c371dd-3f30-4b19-bbb4-d9cce63e71c2",
      "name": "Edit Fields12"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID -Ying Feng": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 5 - Ying Feng": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID -Ying Feng"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -1088
      ],
      "id": "c64c96e3-fca0-4b64-b2b6-ffb2549a8a31",
      "name": "Add Valuation13",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code4\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields13\"].json.value }} by scb ying feng\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "b7084867-925f-41d2-919a-2ed474005078",
      "name": "Acknowledge to Requester13",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -1088
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -1088
      ],
      "id": "e4d02cb8-a738-45f8-b3b3-4e2a70aaf9fd",
      "name": "Code4"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -1104
      ],
      "id": "7892a4e0-df3e-4478-9bb9-5e81278d066f",
      "name": "Edit Fields13"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID - Eunice": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 8 - Eunice": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID - Eunice"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -880
      ],
      "id": "8e226da7-9fc2-4eae-becc-c15f15cc155a",
      "name": "Add Valuation14",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code5\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields14\"].json.value }} by ocbc eunice boon\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "e0792cbf-8789-493a-80d9-41702ccc9e78",
      "name": "Acknowledge to Requester14",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -880
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -880
      ],
      "id": "537bea2e-fecf-4db0-bb80-2531b54d89c3",
      "name": "Code5"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -896
      ],
      "id": "6832af15-72ae-4920-bd75-778ee8713ebc",
      "name": "Edit Fields14"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID - Jewel": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 9 - Jewel": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID - Jewel"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -704
      ],
      "id": "9010cd55-108a-446d-bebe-d80c723d4986",
      "name": "Add Valuation15",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code6\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields15\"].json.value }} by ocbc jewel\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "a359e9f9-deb0-4cdc-99f5-f4b41a12f823",
      "name": "Acknowledge to Requester15",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -704
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -704
      ],
      "id": "7b00ce52-ba0d-4bb2-a42a-3d5e287aaf7b",
      "name": "Code6"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -720
      ],
      "id": "50c5d6c3-bf11-4eae-9a0c-de36596f7802",
      "name": "Edit Fields15"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID - Bret": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 6 - Bret": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID - Bret"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -528
      ],
      "id": "37764cff-a4d8-4b18-96ed-2f509a93b054",
      "name": "Add Valuation16",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code7\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields16\"].json.value }} by uob bret\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "49799feb-4f54-49bc-b60d-876632fba4eb",
      "name": "Acknowledge to Requester16",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -528
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -528
      ],
      "id": "7930c003-73ee-4ea8-9d0f-d607d8aa5c4e",
      "name": "Code7"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -544
      ],
      "id": "9f8cbef7-2f51-4209-a4da-9beef5e9568c",
      "name": "Edit Fields16"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID - Xin Jie": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 7 - Xin Jie": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID - Xin Jie"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -336
      ],
      "id": "32bf3960-ceb7-48c6-841b-9d472916435a",
      "name": "Add Valuation17",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code8\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields17\"].json.value }} by uob xin jie\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "7e25726e-ef20-4117-8ab0-8dd70708a8ad",
      "name": "Acknowledge to Requester17",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -336
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -336
      ],
      "id": "d0db2ec6-e82e-466b-9185-2922aa4b7ea4",
      "name": "Code8"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -368
      ],
      "id": "4a78fafa-4096-4e78-97eb-de3d5dc7287b",
      "name": "Edit Fields17"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Messsage -April": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation -April": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Messsage -April"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1072,
        0
      ],
      "id": "401b861f-3c11-4388-8dfb-03a79dd7edb4",
      "name": "Add Valuation18",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code9\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields18\"].json.value }} by mbb april\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "bdb7ddc7-dc96-4c42-868a-7acc1fb224e6",
      "name": "Acknowledge to Requester18",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1264,
        0
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        688,
        0
      ],
      "id": "8ae504b8-9047-4cb8-aeec-0eb500c47345",
      "name": "Code9"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        0
      ],
      "id": "cc154090-a117-4ee2-ad56-b1ae0c4c69d7",
      "name": "Edit Fields18"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID -James": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation 10 -James": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID -James"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        -176
      ],
      "id": "aa1aa79c-686c-47d6-89dd-bb20416ed66d",
      "name": "Add Valuation19",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code10\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields19\"].json.value }} by uob james\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "b0dd743d-9da5-4c9e-992f-468c95b00510",
      "name": "Acknowledge to Requester19",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        -176
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        -176
      ],
      "id": "74611a13-0ce2-4262-9fac-c52bc283220d",
      "name": "Code10"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        -176
      ],
      "id": "2c4cbc58-bded-4479-82a3-c654f38f283b",
      "name": "Edit Fields19"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line ').item.json.salesperson }}",
            "Chat ID -James": "={{ $json.chat_id }}",
            "Message ID -James": "={{ $json.message_id }}",
            "Valuation 10 -James": "Pending",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        3104
      ],
      "id": "e18b2cfe-20bc-4c6e-9bad-87e281c0db6a",
      "name": "Add Valuation20",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=120363215516608216@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to UOB James').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - James').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "8dd88125-66b3-4c6d-a2ab-5ce50007849b",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line ').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        3104
      ],
      "id": "4f0fdf46-ea7b-4baa-bbeb-5736e2c8c0e2",
      "name": "Edit Fields20"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - James').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "b4f83cd8-f5ae-4b56-be7a-34a2add83d17",
      "name": "Acknowledge to Requester20",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        3104
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        3104
      ],
      "id": "7047068c-420b-4389-9f1a-4cbf760fd3c2",
      "name": "Remove Last Line "
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 10').item.json.salesperson }}",
            "Chat ID -April": "={{ $json.chat_id }}",
            "Messsage -April": "={{ $json.message_id }}",
            "Valuation -April": "Pending",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        3344
      ],
      "id": "4d21c8b2-de3e-45af-96d5-3b8bcd35a30f",
      "name": "Add Valuation21",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=6596440186-1532139636@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to MBB April').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - April').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "7f3db8b1-17dd-4225-9cc1-d2c6908eb7f5",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 10').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        3344
      ],
      "id": "a46937d8-b367-4bbc-863b-47d141875e45",
      "name": "Edit Fields21"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to April & Celine.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "f51845f1-47e5-45c9-a631-383804bafcd3",
      "name": "Acknowledge to Requester21",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        3344
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        3344
      ],
      "id": "fc77339a-d9f5-44be-b7cc-76da901a14e0",
      "name": "Remove Last Line 10"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "uob",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "james",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        3104
      ],
      "id": "270ef59b-84f4-4af4-8a40-0474fd0eddf7",
      "name": "Check UOB James"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "James",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        3104
      ],
      "id": "2478c564-de48-4dc6-91cd-a5111d592ad1",
      "name": "Banker - James"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363215516608216@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "52adb599-1af7-439a-b98b-eddb9976de61",
      "name": "Send to UOB James",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        3104
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "mbb",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "=april",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        3344
      ],
      "id": "14943240-9535-4dcd-b8f2-4b7c57af1171",
      "name": "Check MBB April"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "April",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        3344
      ],
      "id": "293cad29-64ac-4cb2-a2d6-2f41504faaad",
      "name": "Banker - April"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1532139636@g.us"
            },
            {
              "name": "message",
              "value": "=Hi April & Celine pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "d178176f-1a03-42d9-9a1d-245eaa74ced8",
      "name": "Send to MBB April",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        3344
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363156244588807@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "8f42e390-dcd1-4c06-8069-024695179ea5",
      "name": "Send to MBB Hui Hui1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        912,
        -1440
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6597952338-1495617273@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "bf10dc78-e60f-45aa-91e6-d2e4a558cf97",
      "name": "Send to DBS Group1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        912,
        -1600
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363216496983099@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "88085006-54d1-4bc9-98c1-c4e9a7b08343",
      "name": "Send to MBB Vikram1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        912,
        -1264
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1587618823@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "9bbd558d-c47b-47ba-9e5b-c89339bf484f",
      "name": "Send to UOB Bret1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        880,
        -528
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1533216750@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "80011c84-a5b6-49a2-be0a-fdfef53a3188",
      "name": "Send to SCB Ying Feng1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        880,
        -1088
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1598498077@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "a49c248e-3f3e-4e0e-96a0-28225b2baddc",
      "name": "Send to Yvonne",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        912,
        -1760
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363410164822147@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "473196d6-49aa-40fc-aa28-0b75c813044d",
      "name": "Send to OCBC Jewel2",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        880,
        -704
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363215516608216@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "a1f21fd3-62b0-4aef-a2d6-5c44209ade2e",
      "name": "Send to UOB James1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        880,
        -176
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363399758119890@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "e3617d89-26d8-4ba3-88f5-45b24c319708",
      "name": "Send to OCBC Eunice1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        880,
        -880
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363416304945643@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "a7b28a7c-e63b-414a-8ed3-1f447f9c061a",
      "name": "Send to UOB Xin Jie1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        880,
        -336
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1532139636@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "2347c95a-2a88-451b-bf02-1ecb7695d106",
      "name": "Send to MBB April1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        864,
        0
      ]
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 11').item.json.salesperson }}",
            "Chat ID - Eunice Ong": "={{ $json.chat_id }}",
            "Valuation -Eunice Ong": "Pending",
            "Message ID - Eunice Ong": "={{ $json.message_id }}",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        3568
      ],
      "id": "92e82092-2804-419e-a9ae-2423cdebad10",
      "name": "Add Valuation22",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=6596440186-1614324984@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to OCBC Eunice Ong').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - Eunice Ong').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "dd0265d1-aa73-4acb-81ae-49fcf84dd753",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 11').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        3568
      ],
      "id": "1c570fdb-84d1-42e0-a46f-92764f210dbc",
      "name": "Edit Fields22"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - Eunice Ong').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "d1ed9155-6c7b-4f49-932a-01aa80632dca",
      "name": "Acknowledge to Requester22",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        3568
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        3568
      ],
      "id": "ec7d4490-b5d3-483a-a890-826edc58e29f",
      "name": "Remove Last Line 11"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "ocbc",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "eunice ong",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        3568
      ],
      "id": "706e15b5-96e3-4a34-803a-e21d3bae581f",
      "name": "Check OCBC Eunice Ong"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Eunice Ong",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        3568
      ],
      "id": "a7da75b8-e668-4a52-a7da-c7e61b56ca7b",
      "name": "Banker - Eunice Ong"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1614324984@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "7a68d1ea-7ee1-46bf-9a78-b795283d17aa",
      "name": "Send to OCBC Eunice Ong",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        3568
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "ocbc",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "=boon",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        2128
      ],
      "id": "3ba46170-b8dd-48ec-9f3d-7a8547bb2554",
      "name": "Check OCBC Eunice Boon"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "April",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Valuation -Eunice Ong": "={{ $node[\"Webhook\"].json.body.text }}",
            "Message ID - Eunice Ong": "={{ $('Switch').item.json.body.replyInfo.message_id }}"
          },
          "matchingColumns": [
            "Message ID - Eunice Ong"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1072,
        224
      ],
      "id": "0c486cbe-fb09-406e-8631-6f8091d15d3b",
      "name": "Add Valuation23",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code11\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields23\"].json.value }} by ocbc eunice ong\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "2465e410-4427-490d-b264-8b143e50a4ec",
      "name": "Acknowledge to Requester23",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1264,
        224
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        688,
        224
      ],
      "id": "6ee6ff56-12ea-4372-9578-7a9bb828241a",
      "name": "Code11"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        224
      ],
      "id": "a2e6f648-512b-4514-884e-6ceb3c4f001f",
      "name": "Edit Fields23"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1614324984@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "b5947702-90b1-403b-b7a6-a9eefaeb0bad",
      "name": "Send to OCBC Eunice Ong1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        864,
        224
      ]
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 12').item.json.salesperson }}",
            "Chat ID - Eunice Ong": "={{ $json.chat_id }}",
            "Valuation -Eunice Ong": "Pending",
            "Message ID - Eunice Ong": "={{ $json.message_id }}",
            "Agent Number": "={{ $json['Agent Number'] }}"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        992,
        3808
      ],
      "id": "604612c2-f08f-4383-83ef-929af5974791",
      "name": "Add Valuation24",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=120363026214257477@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to Bot Testing').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Bot Testing - Nat').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "0dd3b50a-45ea-4d90-b98e-c34e457c38bd",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 12').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        3808
      ],
      "id": "e7f194d8-5610-49b2-a923-5e735167b3f6",
      "name": "Edit Fields24"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Bot Testing - Nat').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "baea817c-bdb2-4239-a7f1-e197b214efcd",
      "name": "Acknowledge to Requester24",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1200,
        3808
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        3808
      ],
      "id": "c21318d0-95cb-4917-9820-523f2ea9c48d",
      "name": "Remove Last Line 12"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "bot",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "testing",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        3808
      ],
      "id": "ed08986a-33f0-44da-8891-f552402a3e40",
      "name": "Check bot testing"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "Nat",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        3808
      ],
      "id": "25d83a89-bcdb-42bb-bf2a-95a60aa92aac",
      "name": "Bot Testing - Nat"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "449dae39-c415-4959-9599-6d325c75c851",
      "name": "Send to Bot Testing",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        608,
        3808
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "April",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Valuation -Eunice Ong": "={{ $node[\"Webhook\"].json.body.text }}",
            "Message ID - Eunice Ong": "={{ $('Switch').item.json.body.replyInfo.message_id }}"
          },
          "matchingColumns": [
            "Message ID - Eunice Ong"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        448
      ],
      "id": "9845c53f-407c-4262-b149-f7b892d48b3e",
      "name": "Add Valuation25",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code12\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields25\"].json.value }} by ocbc eunice ong\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "5ad3cdd8-b1c8-458e-9967-190a63a2f207",
      "name": "Acknowledge to Requester25",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        448
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        448
      ],
      "id": "17aee7a3-c99f-4c6a-b141-2dfbf1cddf90",
      "name": "Code12"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        448
      ],
      "id": "f5a25f36-a408-49f8-ba94-729e38aef2a1",
      "name": "Edit Fields25"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "599b0f84-fd97-4405-87eb-ceb90a2cfa87",
      "name": "Send to Bot Group",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        880,
        448
      ]
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID - Eunice Ong",
              "lookupValue": "={{ $('Add Valuation25').item.json['Message ID - Eunice Ong'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1504,
        448
      ],
      "id": "1aadbccf-79f6-433c-af63-77ef104dd341",
      "name": "Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code12\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields25\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "cdf344da-3ae5-4b5d-9bbb-745caf4fa589",
      "name": "Acknowledge to Requester26",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1952,
        448
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        480,
        448
      ],
      "id": "97c0a1a5-1007-43cd-8686-5cd42bafbd46",
      "name": "If1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1728,
        448
      ],
      "id": "c5731dec-2db9-4e97-a3fa-dc57d9e88325",
      "name": "If2"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        224
      ],
      "id": "3e6c2e11-a213-4e33-8a91-07ea3ec13eab",
      "name": "If3"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID - Eunice Ong",
              "lookupValue": "={{ $('Add Valuation23').item.json['Message ID - Eunice Ong'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        224
      ],
      "id": "3453cdb4-d2c3-4c2d-a04e-460f791fdbc6",
      "name": "Google Sheets1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code11\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields23\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "8d9c981d-e66e-4c2e-9f0d-c3280ae35c03",
      "name": "Acknowledge to Requester27",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        224
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        224
      ],
      "id": "ac12f2ff-9e7d-41ba-83c4-6806842c0024",
      "name": "If4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        0
      ],
      "id": "784e2351-2685-46bc-9e08-c26acd08beff",
      "name": "If5"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Messsage -April",
              "lookupValue": "={{ $('Add Valuation18').item.json['Messsage -April'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        0
      ],
      "id": "19ca5f71-d43c-42a7-aa44-1712932d585b",
      "name": "Google Sheets2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code9\"].json.cleanedMessage.trim() }}\n\n*Valuation {{ $node[\"Edit Fields18\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "a40b9cc0-0dc1-43c9-8ed1-f774b64d50c7",
      "name": "Acknowledge to Requester28",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        32
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        0
      ],
      "id": "909e94b3-f0dd-4740-a204-437b5f10dad8",
      "name": "If6"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -176
      ],
      "id": "645d0e77-33b1-48df-9077-4282afc070a1",
      "name": "If7"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID -James",
              "lookupValue": "={{ $('Add Valuation19').item.json['Message ID -James'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -176
      ],
      "id": "111984bc-2218-43e0-91f6-a034224b901a",
      "name": "Google Sheets3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code10\"].json.cleanedMessage.trim() }}\n\n*Valuation {{ $node[\"Edit Fields19\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "265a2aef-02d9-423a-87a2-96ff2328a600",
      "name": "Acknowledge to Requester29",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -176
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -176
      ],
      "id": "ff04a7c8-a6d6-402e-a139-4a62d5cb90f5",
      "name": "If8"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -336
      ],
      "id": "3eeef552-7036-46fe-bc28-257ef1ca938a",
      "name": "If9"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -528
      ],
      "id": "74226c5d-2aed-4c15-aaf0-0a8d35141064",
      "name": "If10"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -704
      ],
      "id": "ff6fcf2a-2cc5-4d5a-9e17-9e2e1d86582f",
      "name": "If11"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -896
      ],
      "id": "4c0be968-75e1-47c5-bbe4-5b9b430146e1",
      "name": "If12"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -1088
      ],
      "id": "10ea5e30-b8f2-44e7-b892-4fd8ee51f6c7",
      "name": "If13"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -1264
      ],
      "id": "878160e6-335e-4cee-93f9-fb51c3109c27",
      "name": "If14"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -1440
      ],
      "id": "918ff68d-af54-40c8-b590-44ec80f95895",
      "name": "If15"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -1616
      ],
      "id": "883831d8-2048-4b4b-a530-a3b3956ef117",
      "name": "If16"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -1776
      ],
      "id": "9cac7095-be3b-49a7-a590-2628df68ccb8",
      "name": "If17"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID - Xin Jie",
              "lookupValue": "={{ $('Add Valuation17').item.json['Message ID - Xin Jie'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -336
      ],
      "id": "f1a747cf-583b-4a96-95d1-978b9da9a666",
      "name": "Google Sheets4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code8\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields17\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "18b9b3a4-c970-4591-b0bd-4e8e91a6d47a",
      "name": "Acknowledge to Requester30",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -336
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -336
      ],
      "id": "17db48d3-188a-4bc5-8de5-dbe857552c35",
      "name": "If18"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID - Bret",
              "lookupValue": "={{ $('Add Valuation16').item.json['Message ID - Bret'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -528
      ],
      "id": "a28ca671-7903-4a4c-aa4a-b2ce5a46be5b",
      "name": "Google Sheets5",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code7\"].json.cleanedMessage.trim() }}\n\n*Valuation {{ $node[\"Edit Fields16\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "de778d90-d0ee-4c2c-91f2-912c49afe92f",
      "name": "Acknowledge to Requester31",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -528
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -528
      ],
      "id": "6cee8bf5-c050-4caf-8f6c-d261a0cca118",
      "name": "If19"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID - Jewel",
              "lookupValue": "={{ $('Add Valuation15').item.json['Message ID - Jewel'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -704
      ],
      "id": "1695133e-c769-4bd8-8f73-df16484c36a4",
      "name": "Google Sheets6",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code6\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields15\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "856ccdc8-d35d-429e-ac8e-f4ebffcc74e6",
      "name": "Acknowledge to Requester32",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -704
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -704
      ],
      "id": "fc45c3a4-870c-48f0-b321-5ade48f063f2",
      "name": "If20"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID - Eunice",
              "lookupValue": "={{ $('Add Valuation14').item.json['Message ID - Eunice'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1504,
        -880
      ],
      "id": "69e5410f-7a6a-44fe-8dd6-4b288e3bff53",
      "name": "Google Sheets7",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code5\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields14\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "cf4a1584-c707-4583-a6cb-dcd962c370de",
      "name": "Acknowledge to Requester33",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1952,
        -880
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1728,
        -880
      ],
      "id": "5f9a7108-6627-4275-8824-a6f317d3ffd4",
      "name": "If21"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID -Ying Feng",
              "lookupValue": "={{ $('Add Valuation13').item.json['Message ID -Ying Feng'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -1088
      ],
      "id": "c6e62144-dacf-434a-a3a9-7e2e255d430c",
      "name": "Google Sheets8",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code4\"].json.cleanedMessage.trim() }}\n\n*Valuation {{ $node[\"Edit Fields13\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "56993818-0873-4644-b6dd-49685eb97532",
      "name": "Acknowledge to Requester34",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -1088
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -1088
      ],
      "id": "fd72d8f2-b02f-49e8-98ec-be1ea0505374",
      "name": "If22"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID - Vikram",
              "lookupValue": "={{ $('Add Valuation12').item.json['Message ID - Vikram'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -1264
      ],
      "id": "336a62a6-ec66-449a-9885-24188cecbe36",
      "name": "Google Sheets9",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code3\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields12\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "51f8044b-4cc9-442e-9fd9-513720e2b358",
      "name": "Acknowledge to Requester35",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -1264
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -1264
      ],
      "id": "0322b2fe-ceea-4846-8bd9-cbd7add979dc",
      "name": "If23"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID -Hui Hui",
              "lookupValue": "={{ $('Add Valuation11').item.json['Message ID -Hui Hui'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -1440
      ],
      "id": "38101068-a9a0-4a28-a176-fdec12fcf04d",
      "name": "Google Sheets10",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code2\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields11\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "daf5cadf-f42e-4c26-a126-26727b7d6956",
      "name": "Acknowledge to Requester36",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -1440
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -1440
      ],
      "id": "5522ab2d-b352-48d4-99e6-34718e91a98c",
      "name": "If24"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID -Ethan",
              "lookupValue": "={{ $('Add Valuation6').item.json['Message ID -Ethan'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -1600
      ],
      "id": "69d22fc8-86ef-4253-8c5b-5f7a2bb37dde",
      "name": "Google Sheets11",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields4\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "dc332f66-fcfd-4d80-920e-5bbfbeb5c25e",
      "name": "Acknowledge to Requester37",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -1600
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -1600
      ],
      "id": "7d1d7db6-4398-41d3-9a40-d53ad93aefee",
      "name": "If25"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID -Yvonne",
              "lookupValue": "={{ $('Add Valuation10').item.json['Message ID -Yvonne'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1488,
        -1760
      ],
      "id": "781da1fc-3897-4c3d-acd0-ad5355bf9880",
      "name": "Google Sheets12",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code1\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields10\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "38f102c0-079d-43db-9751-8b56de97afc5",
      "name": "Acknowledge to Requester38",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1920,
        -1760
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1712,
        -1760
      ],
      "id": "7d225f61-a873-493e-a5b0-9de12fe21925",
      "name": "If26"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Time Stamp": "={{ $json.timestamp }}",
            "Property Address": "={{ $json.message_text }}",
            "Date": "={{ new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) }}",
            "Salesperson Requested": "={{ $('Remove Last Line 13').item.json.salesperson }}",
            "Agent Number": "={{ $json['Agent Number'] }}",
            "Chat ID - Edvin": "={{ $json.chat_id }}",
            "Message ID - Edvin": "={{ $json.message_id }}",
            "Valuation -Edvin": "Pending"
          },
          "matchingColumns": [
            "Property Address"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1008,
        4048
      ],
      "id": "d43d0935-5a7d-41f8-a78d-7c7c668468c0",
      "name": "Add Valuation26",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "99f90536-b6dd-492b-8945-b7552abf0a67",
              "name": "chat_id",
              "value": "=6596440186-1615346060@g.us",
              "type": "string"
            },
            {
              "id": "1ed4978d-4faa-414c-95f0-e6453e24df85",
              "name": "message_id",
              "value": "={{ $('Send to DBS Advin').item.json.messageId }}",
              "type": "string"
            },
            {
              "id": "be0e8247-e055-49d6-b416-12977377075c",
              "name": "message_text",
              "value": "={{ $('Banker - DBS Edvin').item.json.Content }}",
              "type": "string"
            },
            {
              "id": "1f6644c7-cc29-4b90-b594-204447da3c7b",
              "name": "timestamp",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "dd0265d1-aa73-4acb-81ae-49fcf84dd753",
              "name": "Agent Number",
              "value": "={{ $('Remove Last Line 13').item.json.agentNumber }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        832,
        4048
      ],
      "id": "9e847f58-19a3-44ac-aae4-95a2e3c9cf48",
      "name": "Edit Fields26"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "=Thanks! We've forwarded your request to {{ $('Banker - DBS Edvin').item.json['Banker Name'] }}.\nWe'll let you know when they replied."
            }
          ]
        }
      },
      "id": "070a710d-2bb7-4de3-a77f-7a7ee7bbefd1",
      "name": "Acknowledge to Requester39",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1232,
        4048
      ]
    },
    {
      "parameters": {
        "jsCode": "const text = $json.messageText || \"\";\n\n// Split into lines and filter out empty lines\nconst nonEmpty = text.split('\\n').filter(line => line.trim() !== \"\");\n\n// Get last 2 lines\nconst lastTwo = nonEmpty.slice(-2);\n\n// Extract names from lines\nconst salespersonLine = nonEmpty.find(line => line.toLowerCase().includes('salesperson'));\nconst agentNumberLine = nonEmpty.find(line => line.toLowerCase().includes('agent number'));\nconst bankerLine = nonEmpty.find(line => line.toLowerCase().includes('banker'));\n\nconst salespersonName = salespersonLine ? salespersonLine.split(':')[1].trim() : null;\nconst bankerName = bankerLine ? bankerLine.split(':')[1].trim() : null;\n\n// Function to extract and format agent number\nfunction extractAndFormatAgentNumber(line) {\n    if (!line) return null;\n    \n    // Extract number from the line (after the colon)\n    const parts = line.split(':');\n    if (parts.length < 2) return null;\n    \n    let number = parts[1].trim();\n    \n    // Remove any non-digit characters except leading +\n    number = number.replace(/[^\\d+]/g, '');\n    \n    // If number starts with +, remove it\n    if (number.startsWith('+')) {\n        number = number.substring(1);\n    }\n    \n    // If number doesn't start with 65, add 65 prefix\n    if (number && !number.startsWith('65')) {\n        number = '65' + number;\n    }\n    \n    return number || null;\n}\n\n// Extract agent number\nconst agentNumber = extractAndFormatAgentNumber(agentNumberLine);\n\n// Remove last 3 lines to create cleaned message (salesperson, agent number, banker)\nconst cleanedMessage = nonEmpty.slice(0, -3).join('\\n');\n\n// Return structured result\nreturn {\n\n        salesperson: salespersonName,\n        agentNumber: agentNumber,\n        banker: bankerName,\n        cleanedMessage: cleanedMessage,\n        originalMessage: text\n    \n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        240,
        4048
      ],
      "id": "f4bf20c3-7565-43ed-8f1b-fc4a6d72a036",
      "name": "Remove Last Line 13"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "54861719-64a5-4738-8f5b-1bce3b6c6c72",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "valuation",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "ccc4723b-df4e-4dfa-bc75-cc0067bb7e1a",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "dbs",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            },
            {
              "id": "5f161463-1da0-4d20-91cb-16858124e517",
              "leftValue": "={{ $json.messageText }}",
              "rightValue": "edvin",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        48,
        4048
      ],
      "id": "17e0eb52-180a-48e8-afb6-62c7ff488481",
      "name": "Check DBS Edvin"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "096a43a6-8944-44b2-b5b7-9299921a4f7f",
              "name": "Banker Name",
              "value": "DBS Edvin",
              "type": "string"
            },
            {
              "id": "2a8d598c-3964-4e09-b348-27d194ee9d3f",
              "name": "Content",
              "value": "={{ $json.cleanedMessage }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        432,
        4048
      ],
      "id": "873bfebd-1a47-4015-9d56-3aa55efcccd7",
      "name": "Banker - DBS Edvin"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1615346060@g.us"
            },
            {
              "name": "message",
              "value": "=Hi {{ $json['Banker Name'] }} pls assist:\n\n{{ $json.Content }}"
            }
          ]
        }
      },
      "id": "729d6ee0-07eb-4883-9e9b-e5dc82bcb98d",
      "name": "Send to DBS Advin",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        624,
        4048
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "April",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Message ID - Edvin": "={{ $('Switch').item.json.body.replyInfo.message_id }}",
            "Valuation -Edvin": "={{ $node[\"Webhook\"].json.body.text }}"
          },
          "matchingColumns": [
            "Message ID - Edvin"
          ],
          "schema": [
            {
              "id": "No.",
              "displayName": "No.",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Yvonne",
              "displayName": "Chat ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Yvonne",
              "displayName": "Message ID -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -James",
              "displayName": "Chat ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -James",
              "displayName": "Message ID -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -April",
              "displayName": "Chat ID -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Messsage -April",
              "displayName": "Messsage -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ethan",
              "displayName": "Chat ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ethan",
              "displayName": "Message ID -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Hui Hui",
              "displayName": "Chat ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Hui Hui",
              "displayName": "Message ID -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Vikram",
              "displayName": "Chat ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Vikram",
              "displayName": "Message ID - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID -Ying Feng",
              "displayName": "Chat ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID -Ying Feng",
              "displayName": "Message ID -Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Bret",
              "displayName": "Chat ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Bret",
              "displayName": "Message ID - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Xin Jie",
              "displayName": "Chat ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Xin Jie",
              "displayName": "Message ID - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice",
              "displayName": "Chat ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice",
              "displayName": "Message ID - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Jewel",
              "displayName": "Chat ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Jewel",
              "displayName": "Message ID - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Eunice Ong",
              "displayName": "Chat ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Eunice Ong",
              "displayName": "Message ID - Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Chat ID - Edvin",
              "displayName": "Chat ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Message ID - Edvin",
              "displayName": "Message ID - Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Salesperson Requested",
              "displayName": "Salesperson Requested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Agent Number",
              "displayName": "Agent Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Property Address",
              "displayName": "Property Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 1 -Yvonne",
              "displayName": "Valuation 1 -Yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 2 -Ethan",
              "displayName": "Valuation 2 -Ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 3 -Hui Hui",
              "displayName": "Valuation 3 -Hui Hui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 4 - Vikram",
              "displayName": "Valuation 4 - Vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 5 - Ying Feng",
              "displayName": "Valuation 5 - Ying Feng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 6 - Bret",
              "displayName": "Valuation 6 - Bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 7 - Xin Jie",
              "displayName": "Valuation 7 - Xin Jie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 8 - Eunice",
              "displayName": "Valuation 8 - Eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 9 - Jewel",
              "displayName": "Valuation 9 - Jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation 10 -James",
              "displayName": "Valuation 10 -James",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -April",
              "displayName": "Valuation -April",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Eunice Ong",
              "displayName": "Valuation -Eunice Ong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Valuation -Edvin",
              "displayName": "Valuation -Edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Remarks",
              "displayName": "Remarks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yvonne",
              "displayName": "last_followup_yvonne",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_ethan",
              "displayName": "last_followup_ethan",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_huihui",
              "displayName": "last_followup_huihui",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_vikram",
              "displayName": "last_followup_vikram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_yingfeng",
              "displayName": "last_followup_yingfeng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_bret",
              "displayName": "last_followup_bret",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_xinjie",
              "displayName": "last_followup_xinjie",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_eunice",
              "displayName": "last_followup_eunice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_jewel",
              "displayName": "last_followup_jewel",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_james",
              "displayName": "last_followup_james",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_april",
              "displayName": "last_followup_april",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_euniceong",
              "displayName": "last_followup_euniceong",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "last_followup_edvin",
              "displayName": "last_followup_edvin",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1088,
        688
      ],
      "id": "99743b68-6d1e-4ee5-a0d9-291dc3e27f7b",
      "name": "Add Valuation27",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=120363026214257477@g.us"
            },
            {
              "name": "message",
              "value": "={{ $node[\"Code13\"].json.cleanedMessage.trim() }}\n\nValue at {{ $node[\"Edit Fields27\"].json.value }} by DBS Edvin\n\nWe have forwarded it to the Agent as well if any"
            }
          ]
        }
      },
      "id": "5fe76ee3-82a6-4671-bc54-3cc55319dc59",
      "name": "Acknowledge to Requester40",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1280,
        688
      ]
    },
    {
      "parameters": {
        "jsCode": "const input = $json[\"request\"] || \"\"; //  Pull from the correct field \"request\"\n\nconst lines = input.split('\\n'); // Split into lines\nlines.shift(); // Remove the first line (e.g., \"Hi Ethan pls assist:\")\n\nreturn [{\n  json: {\n    cleanedMessage: lines.join('\\n') // Join back the rest\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        688
      ],
      "id": "87f7955a-2db7-4bda-8d76-f02efbea125b",
      "name": "Code13"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a5f49ded-c4aa-4249-9342-bc5101de4f80",
              "name": "request",
              "value": "={{ $json.body.replyInfo.text }}",
              "type": "string"
            },
            {
              "id": "8a30a552-97f1-4aaf-94f6-71eab44b2696",
              "name": "value",
              "value": "={{ $json[\"body\"][\"text\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        272,
        672
      ],
      "id": "415111cd-24e1-42dd-b3eb-d2916c7f74b0",
      "name": "Edit Fields27"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "68c2313a-3621-4b2c-83eb-a626c042f3ae",
              "leftValue": "={{ /(\\$?\\d+(\\.\\d+)?[kmb]?|\\bmatch)/i.test($json.value) }}",
              "rightValue": "=^\\d+(\\.\\d+)?[kmb]?$",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        480,
        688
      ],
      "id": "3e1556b2-2349-485f-8fc2-a523b45c7462",
      "name": "If27"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws",
          "mode": "list",
          "cachedResultName": "Valuation Request",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "May",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1iENTKrSwzbEZAcG4wqooUz-oW0xsK8b-c571dBgRUws/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Message ID - Edvin",
              "lookupValue": "={{ $('Add Valuation27').item.json['Message ID - Edvin'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1504,
        688
      ],
      "id": "6731ec7c-5f56-45f2-8766-848a049db176",
      "name": "Google Sheets13",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "LjgiXJsjSODWhRom",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "jid",
              "value": "={{ $json['Agent Number'] + '@c.us' }}"
            },
            {
              "name": "message",
              "value": "=Hi there! \n\n{{ $node[\"Code13\"].json.cleanedMessage.trim() }}\n\n*Valuation: {{ $node[\"Edit Fields27\"].json.value }}*\n\nIf you need any more details or have questions, please contact our friendly sales team for assistance! \n\nKeyQuest Mortgage Team"
            }
          ]
        }
      },
      "id": "c3ffbc02-8b95-4920-a18a-c339716b264f",
      "name": "Acknowledge to Requester41",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1952,
        688
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2b7f5ab2-339c-479f-a5ff-54fc2ace6810",
              "leftValue": "={{ $json['Agent Number'] }}",
              "rightValue": "",
              "operator": {
                "type": "number",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1728,
        688
      ],
      "id": "17921225-df69-4021-81b2-fc6e99b6b148",
      "name": "If28"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "=https://whatsappbot-xqgv.onrender.com/send-message",
        "options": {},
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "groupId",
              "value": "=6596440186-1615346060@g.us"
            },
            {
              "name": "message",
              "value": "=Alright, thank you"
            }
          ]
        }
      },
      "id": "d57afc9a-8ef3-40ff-ae25-acec452ffb17",
      "name": "Send to DBE Edvin",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        880,
        688
      ]
    }
  ],
  "pinData": {
    "Edit Fields25": [
      {
        "json": {
          "request": "Hi Nat pls assist:\n\nvaluation request:\naddress: 28 woodlands crescent #15-20\nsize: 1055sqft\nasking: 5m",
          "value": "5"
        }
      }
    ]
  },
  "connections": {
    "Banker - Yvonne": {
      "main": [
        [
          {
            "node": "Send to Premas Group",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Ethan": {
      "main": [
        [
          {
            "node": "Send to DBS Group",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Hui Hui": {
      "main": [
        [
          {
            "node": "Send to MBB Hui Hui",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Add Valuation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Add Valuation1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Add Valuation2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Premas": {
      "main": [
        [
          {
            "node": "Remove Last Line 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check DBS": {
      "main": [
        [
          {
            "node": "Remove Last Line 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Edit Fields10",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields11",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields12",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields14",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields15",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields16",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields17",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields19",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields18",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields23",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields25",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Change to Lowercase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Change to Lowercase": {
      "main": [
        [
          {
            "node": "Check Premas",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check DBS",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check MBB Hui Hui",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check MBB Vikram",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check OCBC Eunice Boon",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check SCB Ying Feng",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check UOB Bret",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check UOB Xin Jie",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check OCBC Jewel",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check MBB April",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check UOB James",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check OCBC Eunice Ong",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check bot testing",
            "type": "main",
            "index": 0
          },
          {
            "node": "Check DBS Edvin",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 1": {
      "main": [
        [
          {
            "node": "Banker - Yvonne",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 2": {
      "main": [
        [
          {
            "node": "Banker - Ethan",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 3": {
      "main": [
        [
          {
            "node": "Banker - Hui Hui",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to Premas Group": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to DBS Group": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check MBB Hui Hui": {
      "main": [
        [
          {
            "node": "Remove Last Line 3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "Add Valuation3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check MBB Vikram": {
      "main": [
        [
          {
            "node": "Remove Last Line 4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 4": {
      "main": [
        [
          {
            "node": "Banker - Vikram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Vikram": {
      "main": [
        [
          {
            "node": "Send to MBB Vikram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields5": {
      "main": [
        [
          {
            "node": "Add Valuation4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 5": {
      "main": [
        [
          {
            "node": "Banker - Eunice",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Eunice": {
      "main": [
        [
          {
            "node": "Send to OCBC Eunice",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to OCBC Eunice": {
      "main": [
        [
          {
            "node": "Edit Fields5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to MBB Vikram": {
      "main": [
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to MBB Hui Hui": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation1": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation6": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Send to DBS Group1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields4": {
      "main": [
        [
          {
            "node": "If16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation2": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation3": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation4": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation5": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields6": {
      "main": [
        [
          {
            "node": "Add Valuation5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check SCB Ying Feng": {
      "main": [
        [
          {
            "node": "Remove Last Line 6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Ying Feng": {
      "main": [
        [
          {
            "node": "Send to SCB Ying Feng",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to SCB Ying Feng": {
      "main": [
        [
          {
            "node": "Edit Fields6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 6": {
      "main": [
        [
          {
            "node": "Banker - Ying Feng",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation7": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields7": {
      "main": [
        [
          {
            "node": "Add Valuation7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check UOB Bret": {
      "main": [
        [
          {
            "node": "Remove Last Line 7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Bret": {
      "main": [
        [
          {
            "node": "Send to UOB Bret",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to UOB Bret": {
      "main": [
        [
          {
            "node": "Edit Fields7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 7": {
      "main": [
        [
          {
            "node": "Banker - Bret",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation8": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields8": {
      "main": [
        [
          {
            "node": "Add Valuation8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check UOB Xin Jie": {
      "main": [
        [
          {
            "node": "Remove Last Line 8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Xin Jie": {
      "main": [
        [
          {
            "node": "Send to UOB Xin Jie",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to UOB Xin Jie": {
      "main": [
        [
          {
            "node": "Edit Fields8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 8": {
      "main": [
        [
          {
            "node": "Banker - Xin Jie",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation9": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields9": {
      "main": [
        [
          {
            "node": "Add Valuation9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check OCBC Jewel": {
      "main": [
        [
          {
            "node": "Remove Last Line 9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Jewel": {
      "main": [
        [
          {
            "node": "Send to OCBC Jewel",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to OCBC Jewel": {
      "main": [
        [
          {
            "node": "Edit Fields9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 9": {
      "main": [
        [
          {
            "node": "Banker - Jewel",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation10": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code1": {
      "main": [
        [
          {
            "node": "Send to Yvonne",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields10": {
      "main": [
        [
          {
            "node": "If17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation11": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code2": {
      "main": [
        [
          {
            "node": "Send to MBB Hui Hui1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields11": {
      "main": [
        [
          {
            "node": "If15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation12": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code3": {
      "main": [
        [
          {
            "node": "Send to MBB Vikram1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields12": {
      "main": [
        [
          {
            "node": "If14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation13": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code4": {
      "main": [
        [
          {
            "node": "Send to SCB Ying Feng1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields13": {
      "main": [
        [
          {
            "node": "If13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation14": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code5": {
      "main": [
        [
          {
            "node": "Send to OCBC Eunice1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields14": {
      "main": [
        [
          {
            "node": "If12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation15": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code6": {
      "main": [
        [
          {
            "node": "Send to OCBC Jewel2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields15": {
      "main": [
        [
          {
            "node": "If11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation16": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code7": {
      "main": [
        [
          {
            "node": "Send to UOB Bret1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields16": {
      "main": [
        [
          {
            "node": "If10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation17": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code8": {
      "main": [
        [
          {
            "node": "Send to UOB Xin Jie1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields17": {
      "main": [
        [
          {
            "node": "If9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation18": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code9": {
      "main": [
        [
          {
            "node": "Send to MBB April1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields18": {
      "main": [
        [
          {
            "node": "If5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation19": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester19",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code10": {
      "main": [
        [
          {
            "node": "Send to UOB James1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields19": {
      "main": [
        [
          {
            "node": "If7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation20": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields20": {
      "main": [
        [
          {
            "node": "Add Valuation20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line ": {
      "main": [
        [
          {
            "node": "Banker - James",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation21": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields21": {
      "main": [
        [
          {
            "node": "Add Valuation21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 10": {
      "main": [
        [
          {
            "node": "Banker - April",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check UOB James": {
      "main": [
        [
          {
            "node": "Remove Last Line ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - James": {
      "main": [
        [
          {
            "node": "Send to UOB James",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to UOB James": {
      "main": [
        [
          {
            "node": "Edit Fields20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check MBB April": {
      "main": [
        [
          {
            "node": "Remove Last Line 10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - April": {
      "main": [
        [
          {
            "node": "Send to MBB April",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to MBB April": {
      "main": [
        [
          {
            "node": "Edit Fields21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to MBB Hui Hui1": {
      "main": [
        [
          {
            "node": "Add Valuation11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to DBS Group1": {
      "main": [
        [
          {
            "node": "Add Valuation6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to MBB Vikram1": {
      "main": [
        [
          {
            "node": "Add Valuation12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to UOB Bret1": {
      "main": [
        [
          {
            "node": "Add Valuation16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to SCB Ying Feng1": {
      "main": [
        [
          {
            "node": "Add Valuation13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to Yvonne": {
      "main": [
        [
          {
            "node": "Add Valuation10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to OCBC Jewel2": {
      "main": [
        [
          {
            "node": "Add Valuation15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to UOB James1": {
      "main": [
        [
          {
            "node": "Add Valuation19",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to OCBC Eunice1": {
      "main": [
        [
          {
            "node": "Add Valuation14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to UOB Xin Jie1": {
      "main": [
        [
          {
            "node": "Add Valuation17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to MBB April1": {
      "main": [
        [
          {
            "node": "Add Valuation18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation22": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields22": {
      "main": [
        [
          {
            "node": "Add Valuation22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 11": {
      "main": [
        [
          {
            "node": "Banker - Eunice Ong",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check OCBC Eunice Ong": {
      "main": [
        [
          {
            "node": "Remove Last Line 11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - Eunice Ong": {
      "main": [
        [
          {
            "node": "Send to OCBC Eunice Ong",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to OCBC Eunice Ong": {
      "main": [
        [
          {
            "node": "Edit Fields22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check OCBC Eunice Boon": {
      "main": [
        [
          {
            "node": "Remove Last Line 5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation23": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code11": {
      "main": [
        [
          {
            "node": "Send to OCBC Eunice Ong1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields23": {
      "main": [
        [
          {
            "node": "If3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to OCBC Eunice Ong1": {
      "main": [
        [
          {
            "node": "Add Valuation23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation24": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields24": {
      "main": [
        [
          {
            "node": "Add Valuation24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 12": {
      "main": [
        [
          {
            "node": "Bot Testing - Nat",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check bot testing": {
      "main": [
        [
          {
            "node": "Remove Last Line 12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Bot Testing - Nat": {
      "main": [
        [
          {
            "node": "Send to Bot Testing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to Bot Testing": {
      "main": [
        [
          {
            "node": "Edit Fields24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation25": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code12": {
      "main": [
        [
          {
            "node": "Send to Bot Group",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields25": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to Bot Group": {
      "main": [
        [
          {
            "node": "Add Valuation25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester25": {
      "main": [
        [
          {
            "node": "Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "main": [
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Code12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If3": {
      "main": [
        [
          {
            "node": "Code11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets1": {
      "main": [
        [
          {
            "node": "If4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If4": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester23": {
      "main": [
        [
          {
            "node": "Google Sheets1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If5": {
      "main": [
        [
          {
            "node": "Code9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets2": {
      "main": [
        [
          {
            "node": "If6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If6": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester28",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester18": {
      "main": [
        [
          {
            "node": "Google Sheets2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If7": {
      "main": [
        [
          {
            "node": "Code10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets3": {
      "main": [
        [
          {
            "node": "If8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If8": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester29",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester19": {
      "main": [
        [
          {
            "node": "Google Sheets3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If9": {
      "main": [
        [
          {
            "node": "Code8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If10": {
      "main": [
        [
          {
            "node": "Code7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If11": {
      "main": [
        [
          {
            "node": "Code6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If12": {
      "main": [
        [
          {
            "node": "Code5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If13": {
      "main": [
        [
          {
            "node": "Code4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If14": {
      "main": [
        [
          {
            "node": "Code3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If15": {
      "main": [
        [
          {
            "node": "Code2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If16": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If17": {
      "main": [
        [
          {
            "node": "Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets4": {
      "main": [
        [
          {
            "node": "If18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If18": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester30",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester17": {
      "main": [
        [
          {
            "node": "Google Sheets4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets5": {
      "main": [
        [
          {
            "node": "If19",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If19": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester31",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester16": {
      "main": [
        [
          {
            "node": "Google Sheets5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets6": {
      "main": [
        [
          {
            "node": "If20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If20": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester15": {
      "main": [
        [
          {
            "node": "Google Sheets6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets7": {
      "main": [
        [
          {
            "node": "If21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If21": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester33",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester14": {
      "main": [
        [
          {
            "node": "Google Sheets7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets8": {
      "main": [
        [
          {
            "node": "If22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If22": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester34",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester13": {
      "main": [
        [
          {
            "node": "Google Sheets8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets9": {
      "main": [
        [
          {
            "node": "If23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If23": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester35",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester12": {
      "main": [
        [
          {
            "node": "Google Sheets9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets10": {
      "main": [
        [
          {
            "node": "If24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If24": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester36",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester11": {
      "main": [
        [
          {
            "node": "Google Sheets10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets11": {
      "main": [
        [
          {
            "node": "If25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If25": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester37",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester1": {
      "main": [
        [
          {
            "node": "Google Sheets11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets12": {
      "main": [
        [
          {
            "node": "If26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If26": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester38",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester10": {
      "main": [
        [
          {
            "node": "Google Sheets12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation26": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester39",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields26": {
      "main": [
        [
          {
            "node": "Add Valuation26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Last Line 13": {
      "main": [
        [
          {
            "node": "Banker - DBS Edvin",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check DBS Edvin": {
      "main": [
        [
          {
            "node": "Remove Last Line 13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Banker - DBS Edvin": {
      "main": [
        [
          {
            "node": "Send to DBS Advin",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to DBS Advin": {
      "main": [
        [
          {
            "node": "Edit Fields26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Valuation27": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester40",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Acknowledge to Requester40": {
      "main": [
        [
          {
            "node": "Google Sheets13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code13": {
      "main": [
        [
          {
            "node": "Send to DBE Edvin",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields27": {
      "main": [
        [
          {
            "node": "If27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If27": {
      "main": [
        [
          {
            "node": "Code13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets13": {
      "main": [
        [
          {
            "node": "If28",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If28": {
      "main": [
        [
          {
            "node": "Acknowledge to Requester41",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to DBE Edvin": {
      "main": [
        [
          {
            "node": "Add Valuation27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "8344885a-75b4-4089-9cda-a5c18a4b2db4",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "ccd5ffba8066f53a6c96c27118a23a968ef4029c73a225e4b44e5ea1c5231149"
  },
  "id": "UgErLJLjaQlndG7q",
  "tags": []
}